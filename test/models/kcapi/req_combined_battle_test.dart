import 'dart:convert';

import 'package:conning_tower/models/data/kcsapi/kcsapi.dart';
import 'package:flutter_test/flutter_test.dart';

main() {
  test(ReqCombinedBattleEntity.source, () {
    var json = jsonDecode('''
{"api_result":1,"api_result_msg":"成功","api_data":{"api_deck_id":1,"api_formation":[14,3,1],"api_f_nowhps":[93,81,78,74,35,43],"api_f_maxhps":[93,91,84,87,35,46],"api_f_nowhps_combined":[40,57,31,31,39,33],"api_f_maxhps_combined":[43,62,31,31,39,33],"api_fParam":[[107,0,96,104],[109,0,104,108],[23,0,73,73],[65,0,90,84],[54,72,91,52],[61,91,69,69]],"api_fParam_combined":[[63,139,49,63],[81,88,88,74],[69,87,54,50],[52,90,59,50],[67,91,87,57],[66,89,58,54]],"api_ship_ke":[1618,1765,1595,1592,1576,1576],"api_ship_lv":[1,1,1,1,1,1],"api_e_nowhps":[160,88,88,66,37,37],"api_e_maxhps":[160,88,88,66,37,37],"api_eSlot":[[1556,1557,1558,1558,-1],[1574,1547,1548,1549,-1],[1505,1505,1515,1525,-1],[1550,1550,1545,1525,-1],[1502,1545,1542,-1,-1],[1502,1545,1542,-1,-1]],"api_eParam":[[40,0,90,120],[35,0,48,73],[79,74,79,89],[64,92,96,68],[38,66,32,26],[38,66,32,26]],"api_smoke_type":0,"api_balloon_cell":0,"api_atoll_cell":0,"api_midnight_flag":0,"api_search":[1,1],"api_injection_kouku":{"api_plane_from":[[4],null],"api_stage1":{"api_f_count":12,"api_f_lostcount":0,"api_e_count":0,"api_e_lostcount":0},"api_stage2":{"api_f_count":12,"api_f_lostcount":6,"api_e_count":0,"api_e_lostcount":0},"api_stage3":{"api_frai_flag":[0,0,0,0,0,0],"api_erai_flag":[0,0,0,0,0,0],"api_fbak_flag":[0,0,0,0,0,0],"api_ebak_flag":[0,0,0,1,0,0],"api_fcl_flag":[0,0,0,0,0,0],"api_ecl_flag":[0,0,0,1,0,0],"api_fdam":[0,0,0,0,0,0],"api_edam":[0,0,0,45,0,0],"api_f_sp_list":[null,null,null,null,null,null],"api_e_sp_list":[null,null,null,null,null,null]},"api_stage3_combined":{"api_frai_flag":[0,0,0,0,0,0],"api_fbak_flag":[0,0,0,0,0,0],"api_fcl_flag":[0,0,0,0,0,0],"api_fdam":[0,0,0,0,0,0],"api_f_sp_list":[null,null,null,null,null,null]}},"api_stage_flag":[1,1,1],"api_kouku":{"api_plane_from":[[3,4,6],[1,2]],"api_stage1":{"api_f_count":167,"api_f_lostcount":19,"api_e_count":232,"api_e_lostcount":115,"api_disp_seiku":2,"api_touch_plane":[239,-1]},"api_stage2":{"api_f_count":125,"api_f_lostcount":7,"api_e_count":86,"api_e_lostcount":81,"api_air_fire":{"api_idx":4,"api_kind":34,"api_use_items":[308,308]}},"api_stage3":{"api_frai_flag":[0,0,0,0,0,0],"api_erai_flag":[0,1,0,0,0,1],"api_fbak_flag":[0,0,0,0,0,0],"api_ebak_flag":[1,1,0,1,0,1],"api_fcl_flag":[0,0,0,0,0,0],"api_ecl_flag":[1,0,0,0,0,0],"api_fdam":[0,0,0,0,0,0],"api_edam":[84,47,0,0,0,20],"api_f_sp_list":[null,null,null,null,null,null],"api_e_sp_list":[null,null,null,null,null,null]},"api_stage3_combined":{"api_frai_flag":[1,0,0,0,1,0],"api_fbak_flag":[0,0,0,0,0,0],"api_fcl_flag":[0,0,0,0,0,0],"api_fdam":[0,0,0,0,0,0],"api_f_sp_list":[null,null,null,null,null,null]}},"api_support_flag":0,"api_support_info":null,"api_opening_taisen_flag":0,"api_opening_taisen":null,"api_opening_flag":1,"api_opening_atack":{"api_frai_list_items":[null,null,null,null,null,null,[2],[2],null,null,null,null],"api_fcl_list_items":[null,null,null,null,null,null,[1],[1],null,null,null,null],"api_fdam":[0,0,0,0,0,0,0,0,0,0,0,0],"api_fydam_list_items":[null,null,null,null,null,null,[109],[48],null,null,null,null],"api_erai_list_items":[null,null,null,null,null,null,null],"api_ecl_list_items":[null,null,null,null,null,null,null],"api_edam":[0,0,157,0,0,0,0],"api_eydam_list_items":[null,null,null,null,null,null,null]},"api_hourai_flag":[1,1,1,0],"api_hougeki1":{"api_at_eflag":[0,0,0,0,1,0,0],"api_at_list":[7,11,6,10,5,9,8],"api_at_type":[0,0,0,0,0,0,0],"api_df_list":[[3],[4],[1],[0],[9],[0],[1]],"api_si_list":[[407],[-1],[-1],[-1],[1502],[-1],[-1]],"api_cl_list":[[1],[1],[0],[0],[0],[1],[0]],"api_damage":[[84],[84.1],[0],[0],[0],[9],[0]]},"api_raigeki":{"api_frai":[-1,-1,-1,-1,-1,-1,1,1,5,0,1,1],"api_fcl":[0,0,0,0,0,0,1,1,1,1,1,1],"api_fdam":[0,0,0,0,0,0,0,0,0,0,0,0],"api_fydam":[0,0,0,0,0,0,82,58,82,39,67,100],"api_erai":[-1,-1,-1,-1,-1,-1,-1],"api_ecl":[0,0,0,0,0,0,0],"api_edam":[39,307,0,0,0,82,0],"api_eydam":[0,0,0,0,0,0,0]},"api_hougeki2":{"api_at_eflag":[0],"api_at_list":[0],"api_at_type":[0],"api_df_list":[[0]],"api_si_list":[[276]],"api_cl_list":[[2]],"api_damage":[[256]]}}}
''');

    var data = ReqCombinedBattleEntity.fromJson(json);

    expect(data, isNotNull);

  });
}